<div class="event-binding-test">
  <h2>Event Binding Test Cases</h2>

  <button (click)="resetAll()">Reset All</button>

  <!-- Test 1: Click Events -->
  <section>
    <h3>1. Click Events</h3>
    <button (click)="onClick()">Click Me</button>
    <button (dblclick)="onDoubleClick()">Double Click Me</button>
    <button (contextmenu)="onRightClick($event)">Right Click Me</button>
    <p>Click count: {{ clickCount }}</p>
    <p *ngIf="lastClickTime">Last click: {{ lastClickTime }}</p>
  </section>

  <!-- Test 2: Mouse Events -->
  <section>
    <h3>2. Mouse Events</h3>
    <div
      class="mouse-area"
      [class.hovering]="isHovering"
      (mouseenter)="onMouseEnter()"
      (mouseleave)="onMouseLeave()"
      (mousemove)="onMouseMove($event)"
      (mousedown)="onMouseDown($event)"
      (mouseup)="onMouseUp($event)"
    >
      <p>Mouse over this area</p>
      <p>Position: X={{ mousePosition.x }}, Y={{ mousePosition.y }}</p>
      <p>Hovering: {{ isHovering ? 'Yes' : 'No' }}</p>
    </div>
  </section>

  <!-- Test 3: Keyboard Events -->
  <section>
    <h3>3. Keyboard Events</h3>
    <input
      type="text"
      placeholder="Type something..."
      [value]="inputValue"
      (input)="onInput($event)"
      (keydown)="onKeyDown($event)"
      (keyup)="onKeyUp($event)"
      (keydown.enter)="onEnterKey()"
      (keydown.escape)="onEscapeKey()"
    />
    <p>Input value: {{ inputValue }}</p>
    <p>Last key: {{ lastKeyPressed }}</p>
    <p>Total key presses: {{ keyPressCount }}</p>
    <p><em>Hint: Press Enter to log, Escape to clear</em></p>
  </section>

  <!-- Test 4: Focus Events -->
  <section>
    <h3>4. Focus Events</h3>
    <input
      type="text"
      placeholder="Focus on me..."
      (focus)="onFocus()"
      (blur)="onBlur()"
      [class.focused]="isFocused"
    />
    <p>Input is {{ isFocused ? 'focused' : 'not focused' }}</p>
  </section>

  <!-- Test 5: Form Events -->
  <section>
    <h3>5. Form Events</h3>
    <form (submit)="onSubmit($event)">
      <input type="text" placeholder="Form input..." [(ngModel)]="formValue" name="formInput" />
      <button type="submit">Submit</button>
    </form>

    <div>
      <label>Select option:</label>
      <select (change)="onSelectChange($event)">
        <option value="">-- Select --</option>
        <option value="option1">Option 1</option>
        <option value="option2">Option 2</option>
        <option value="option3">Option 3</option>
      </select>
      <p *ngIf="selectedOption">Selected: {{ selectedOption }}</p>
    </div>

    <div>
      <label>
        <input type="checkbox" [checked]="checkboxValue" (change)="onCheckboxChange($event)" />
        Check me
      </label>
      <p>Checkbox is: {{ checkboxValue ? 'checked' : 'unchecked' }}</p>
    </div>
  </section>

  <!-- Test 6: Event with $event object -->
  <section>
    <h3>6. Using $event object</h3>
    <button
      (click)="logEvent('click', 'Button at position: ' + $event.clientX + ',' + $event.clientY)"
      #logBtn
    >
      Click to log position
    </button>
  </section>

  <!-- Event Log -->
  <section>
    <h3>Event Log (Last {{ maxLogEntries }} events)</h3>
    <button (click)="clearLog()">Clear Log</button>
    <div class="event-log">
      <div *ngIf="eventLog.length === 0">No events logged yet</div>
      <div *ngFor="let log of eventLog" class="log-entry">
        <span class="log-type">[{{ log.type }}]</span>
        <span class="log-details">{{ log.details }}</span>
        <span class="log-time">{{ log.timestamp.toLocaleTimeString() }}</span>
      </div>
    </div>
  </section>
</div>
