<div class="ng-for-test">
  <h2>NgFor Test Cases</h2>

  <!-- Test 1: Basic *ngFor with index -->
  <section>
    <h3>1. Basic *ngFor with index</h3>
    <ul>
      <li *ngFor="let item of items; index as i">
        {{ i + 1 }}. {{ item }}
      </li>
    </ul>
  </section>

  <!-- Test 2: *ngFor with first, last, even, odd -->
  <section>
    <h3>2. Loop variables (first, last, even, odd)</h3>
    <div *ngFor="let num of numbers; 
                 index as i; 
                 first as isFirst; 
                 last as isLast; 
                 even as isEven; 
                 odd as isOdd"
         [class.first]="isFirst"
         [class.last]="isLast"
         [class.even]="isEven"
         [class.odd]="isOdd"
         class="number-item">
      {{ num }} 
      <span *ngIf="isFirst">(First)</span>
      <span *ngIf="isLast">(Last)</span>
      <span *ngIf="isEven">[Even]</span>
      <span *ngIf="isOdd">[Odd]</span>
    </div>
  </section>

  <!-- Test 3: *ngFor with objects and property access -->
  <section>
    <h3>3. Objects with property binding</h3>
    <button (click)="addUser()">Add User</button>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; trackBy: trackByUserId"
            [class.active]="user.active"
            [class.inactive]="!user.active">
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>
            <span [style.color]="user.active ? 'green' : 'red'">
              {{ user.active ? 'Active' : 'Inactive' }}
            </span>
          </td>
          <td>
            <button (click)="toggleActive(user)">Toggle</button>
            <button (click)="removeUser(user.id)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Test 4: Nested *ngFor -->
  <section>
    <h3>4. Nested *ngFor (Categories with items)</h3>
    <div *ngFor="let category of categories" class="category">
      <h4>{{ category.name }}</h4>
      <ul>
        <li *ngFor="let item of category.items; index as itemIndex">
          {{ itemIndex + 1 }}. {{ item }}
        </li>
      </ul>
    </div>
  </section>

  <!-- Test 5: *ngFor with count -->
  <section>
    <h3>5. Count variable</h3>
    <div *ngFor="let item of items; count as total">
      {{ item }} (Total items: {{ total }})
    </div>
  </section>

  <!-- Test 6: Empty state with *ngFor -->
  <section>
    <h3>6. Current Users Count: {{ users.length }}</h3>
  </section>
</div>
