<div class="ng-if-test">
  <h2>NgIf Test Cases</h2>

  <!-- Test 1: Basic *ngIf toggle -->
  <section>
    <h3>1. Basic *ngIf Toggle</h3>
    <button (click)="toggleShow()">Toggle Show</button>
    <p *ngIf="isShow">âœ… This content is visible (isShow = true)</p>
    <p *ngIf="!isShow">âŒ Alternative content (isShow = false)</p>
  </section>

  <!-- Test 2: *ngIf with else template -->
  <section>
    <h3>2. *ngIf with else</h3>
    <button (click)="toggleLogin()">{{ isLoggedIn ? 'Logout' : 'Login' }}</button>
    <div *ngIf="isLoggedIn; else loggedOutTemplate">
      <p>ğŸ‘‹ Welcome back, {{ userName }}!</p>
    </div>
    <ng-template #loggedOutTemplate>
      <p>ğŸ”’ Please log in to continue</p>
    </ng-template>
  </section>

  <!-- Test 3: *ngIf with then/else -->
  <section>
    <h3>3. *ngIf with then/else templates</h3>
    <button (click)="simulateLoading()">Load Data</button>
    <div *ngIf="isLoading; then loadingTpl; else contentTpl"></div>
    <ng-template #loadingTpl>
      <p>â³ Loading...</p>
    </ng-template>
    <ng-template #contentTpl>
      <p>âœ… Content loaded successfully!</p>
    </ng-template>
  </section>

  <!-- Test 4: *ngIf with nullable value (as syntax) -->
  <section>
    <h3>4. *ngIf with nullable and "as" syntax</h3>
    <button (click)="toggleUser()">{{ user ? 'Remove User' : 'Add User' }}</button>
    <div *ngIf="user as currentUser">
      <p>User: {{ currentUser.name }}</p>
      <p>Role: {{ currentUser.role }}</p>
      <p>Premium: {{ currentUser.premium ? 'Yes' : 'No' }}</p>
    </div>
    <p *ngIf="!user">No user data available</p>
  </section>

  <!-- Test 5: Nested *ngIf with complex conditions -->
  <section>
    <h3>5. Nested *ngIf with complex conditions</h3>
    <div *ngIf="user">
      <div *ngIf="user.role === 'admin'">
        <p>ğŸ”‘ Admin Panel Access</p>
      </div>
      <div *ngIf="user.role === 'user'">
        <p>ğŸ‘¤ User Dashboard</p>
      </div>
      <div *ngIf="user.role === 'guest'">
        <p>ğŸ‘ï¸ Guest View Only</p>
      </div>
      <div *ngIf="user.premium">
        <p>â­ Premium Features Enabled</p>
      </div>
      <div>
        <button (click)="setUserRole('admin')">Set Admin</button>
        <button (click)="setUserRole('user')">Set User</button>
        <button (click)="setUserRole('guest')">Set Guest</button>
        <button (click)="togglePremium()">Toggle Premium</button>
      </div>
    </div>
  </section>

  <!-- Test 6: *ngIf with numeric conditions -->
  <section>
    <h3>6. Numeric conditions</h3>
    <div>
      <button (click)="decrement()" [disabled]="count === 0">-</button>
      <span> {{ count }} / {{ maxCount }} </span>
      <button (click)="increment()" [disabled]="count >= maxCount">+</button>
    </div>
    <p *ngIf="count === 0">Counter is at zero</p>
    <p *ngIf="count > 0 && count < maxCount">Counter in progress...</p>
    <p *ngIf="count >= maxCount">ğŸ‰ Maximum reached!</p>
  </section>

  <!-- Test 7: *ngIf with array length -->
  <section>
    <h3>7. Array length conditions</h3>
    <button (click)="addItem()">Add Item</button>
    <button (click)="clearItems()">Clear All</button>
    <div *ngIf="items.length > 0; else noItemsTpl">
      <p>You have {{ items.length }} item(s)</p>
    </div>
    <ng-template #noItemsTpl>
      <p>ğŸ“­ No items in the list</p>
    </ng-template>
  </section>

  <!-- Test 8: Error handling pattern -->
  <section>
    <h3>8. Error handling pattern</h3>
    <button (click)="simulateError()">Trigger Error</button>
    <button (click)="clearError()" *ngIf="errorMessage">Clear Error</button>
    <div *ngIf="errorMessage" class="error-message">
      âš ï¸ {{ errorMessage }}
    </div>
    <div *ngIf="!errorMessage && !isLoading">
      âœ… No errors
    </div>
  </section>
</div>
